(()=>{"use strict";const t=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.moveUp=function(){this.y-=50},t.prototype.moveDown=function(){this.y<550&&(this.y+=50)},t.prototype.moveLeft=function(){this.x>0&&(this.x-=50)},t.prototype.moveRight=function(){this.x<750&&(this.x+=50)},t.prototype.reset=function(){this.y=550},t.prototype.draw=function(t){t.fillStyle="green",t.fillRect(this.x,this.y,30,30)},t}(),e=function(){function t(){this.direction=Math.random()<.5?-1:1,this.x=1===this.direction?0:800,this.y=70*Math.floor(5*Math.random())+150,this.speed=5*Math.random()+3}return t.prototype.update=function(){this.x+=this.speed*this.direction},t.prototype.isVisible=function(){return this.x>-100&&this.x<900},t.prototype.draw=function(t){t.fillStyle="red",t.fillRect(this.x,this.y,60,30),t.strokeStyle="black",t.strokeRect(this.x,this.y,60,30)},t}(),i=function(){function i(){this.animationId=null,this.canvas=document.createElement("canvas"),this.canvas.width=800,this.canvas.height=600,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.chicken=new t(400,550),this.cars=[],this.score=0,this.gameOver=!1,this.createResetButton(),this.init()}return i.prototype.init=function(){document.addEventListener("keydown",this.handleInput.bind(this)),this.spawnCars(),this.gameLoop()},i.prototype.handleInput=function(t){if(!this.gameOver)switch(t.key){case"ArrowUp":this.chicken.moveUp();break;case"ArrowDown":this.chicken.moveDown();break;case"ArrowLeft":this.chicken.moveLeft();break;case"ArrowRight":this.chicken.moveRight()}},i.prototype.spawnCars=function(){var t=this;setInterval(function(){t.gameOver||t.cars.push(new e)},250)},i.prototype.gameLoop=function(){this.gameOver?this.drawGameOver():(this.update(),this.draw(),this.animationId=requestAnimationFrame(this.gameLoop.bind(this)))},i.prototype.update=function(){var t=this;this.cars=this.cars.filter(function(t){return t.isVisible()}),this.cars.forEach(function(t){return t.update()}),this.cars.forEach(function(e){t.checkCollision(e,t.chicken)&&(t.gameOver=!0)}),this.chicken.y<=50&&(this.score++,this.chicken.reset())},i.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#333",this.ctx.fillRect(0,100,this.canvas.width,400),this.ctx.fillStyle="black",this.ctx.font="24px Arial";var e="Score: ".concat(this.score),i=this.ctx.measureText(e).width,s=(this.canvas.width-i)/2;this.ctx.fillText(e,s,30),this.chicken.draw(this.ctx),this.cars.forEach(function(e){return e.draw(t.ctx)}),this.resetButton.style.display="none"},i.prototype.drawGameOver=function(){this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="white",this.ctx.font="48px Arial",this.ctx.textAlign="center",this.ctx.fillText("Game Over",this.canvas.width/2,this.canvas.height/2-80),this.ctx.font="24px Arial",this.ctx.fillText("Final Score: ".concat(this.score),this.canvas.width/2,this.canvas.height/2-20),this.resetButton.style.display="block"},i.prototype.checkCollision=function(t,e){return t.x<e.x+30-5&&t.x+60>e.x+5&&t.y<e.y+30-5&&t.y+30>e.y+5},i.prototype.createResetButton=function(){var t=this;this.resetButton=document.createElement("button"),this.resetButton.textContent="Reset Game",this.resetButton.style.position="absolute",this.resetButton.style.left="50%",this.resetButton.style.top="50%",this.resetButton.style.transform="translate(-50%, 80px)",this.resetButton.style.padding="12px 24px",this.resetButton.style.fontSize="18px",this.resetButton.style.fontWeight="bold",this.resetButton.style.backgroundColor="#4CAF50",this.resetButton.style.color="white",this.resetButton.style.border="none",this.resetButton.style.borderRadius="8px",this.resetButton.style.cursor="pointer",this.resetButton.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.3)",this.resetButton.style.transition="all 0.3s ease",this.resetButton.style.display="none",this.resetButton.addEventListener("click",this.resetGame.bind(this)),this.resetButton.addEventListener("mouseenter",function(){t.resetButton.style.backgroundColor="#45a049",t.resetButton.style.transform="translate(-50%, 80px) scale(1.05)"}),this.resetButton.addEventListener("mouseleave",function(){t.resetButton.style.backgroundColor="#4CAF50",t.resetButton.style.transform="translate(-50%, 80px) scale(1)"}),document.body.appendChild(this.resetButton)},i.prototype.resetGame=function(){this.score=0,this.gameOver=!1,this.chicken=new t(400,550),this.cars=[],this.resetButton.style.display="none",this.animationId&&cancelAnimationFrame(this.animationId),this.gameLoop()},i}();document.querySelectorAll("canvas").forEach(function(t){return t.remove()}),document.querySelectorAll("button").forEach(function(t){"Reset Game"===t.textContent&&t.remove()}),new i})();